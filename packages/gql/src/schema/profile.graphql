
type FollowersOutput {
  items: [Wallet!]!
  pageInfo: PageInfo
  totalItems: Int
}

input FollowersInput {
  profileId: ID!
  pageInput: PageInput
}

enum ProfileStatus {
  Available
  Pending
  Owned
}

type Profile {
  id: ID!
  bannerURL: String
  createdAt: DateTime!
  description: String
  followersCount: Int
  isFollowedByMe: Boolean
  isOwnedByMe: Boolean
  owner: Wallet
  photoURL: String
  status: ProfileStatus
  url: String!
  winningBid: Bid
  showGallery: Boolean
}

input ProfilesInput {
  pageInput: PageInput
  statuses: [ProfileStatus]
}

type ProfilesOutput {
  items: [Profile!]!
  pageInfo: PageInfo
  totalItems: Int
}

input UpdateProfileInput {
  id: ID!
  bannerURL: String
  description: String
  photoURL: String
  showGallery: Boolean
}

input ProfileClaimedInput {
  profileId: ID!
  walletId: ID!
  txHash: String!
}

input MintGKProfileInput {
  startIndex: Int
  count: Int
}

input UploadProfileImagesInput {
  images: [Upload!]!
  profileId: ID!
}

extend type Query {
  # TODO do we need to gate this?
  profileFollowers(input: FollowersInput!): FollowersOutput!
  profilesFollowedByMe(input: ProfilesInput): ProfilesOutput!
  myProfiles(input: ProfilesInput): ProfilesOutput!
  profile(url: String!): Profile!
  profilePassive(url: String!): Profile!
  blockedProfileURIs: [String!]!
}

extend type Mutation {
  followProfile(url: String): Profile!
  unfollowProfile(id: ID!): Profile!
  updateProfile(input: UpdateProfileInput!): Profile!
  profileClaimed(input: ProfileClaimedInput!): Profile!
  mintGKProfile(input: MintGKProfileInput): String!
  uploadProfileImages(input: UploadProfileImagesInput): Profile!
}
