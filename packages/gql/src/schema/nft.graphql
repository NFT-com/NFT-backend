enum NFTType {
  ERC721
  ERC1155
  UNKNOWN
  Profile
  GenesisKey
  GenesisKeyProfile
}

enum NFTSize {
  Small
  Medium
  Large
}

type NFTTrait {
  type: String!
  value: String!
}

type NFTMetadata {
  name: String
  description: String
  imageURL: String
  traits: [NFTTrait!]!
#  txHash: String!
}

type NFT {
  id: ID!
  contract: Address
  tokenId: Uint256!
  isOwnedByMe: Boolean
  metadata: NFTMetadata!
  price: Uint256
  type: NFTType!
#  user: User
  wallet: Wallet
  visibility: Boolean!
  createdAt: DateTime!
}

input NFTsInput {
  pageInput: PageInput
  types: [NFTType!]
  profileId: ID
}

input CurationInput {
  curationId: ID!
  pageInput: PageInput
  # TODO: add filters
}

input CollectionNFTsInput {
  collectionAddress: Address!
  pageInput: PageInput
}

type TokenUri {
    raw: String!
    gateway: String!
}

type NftMedia {
  uri: TokenUri
}

type NftAttributeRecord {
  type: String
  value: String
}

type NftMetadataAlchemy {
  name: String
  description: String
  image: String
  attributes: [NftAttributeRecord]
}

type GetGkNFTSOutput {
  title: String!
  description: String!
  tokenUri: TokenUri
  media: [NftMedia]
  metadata: NftMetadataAlchemy
  timeLastUpdated: String!
  error: String
}

type NFTsOutput {
  items: [NFT!]!
  pageInfo: PageInfo
  totalItems: Int
}

type CurationNFT {
  nft: NFT!
  size: NFTSize
  # TODO: add display preferences here
}

type CurationNFTsOutput {
  items: [CurationNFT!]!
  pageInfo: PageInfo
  totalItems: Int
}

type RefreshMyNFTsOutput {
  status: Boolean!
  message: String
}

input UpdateNFTsForProfileInput {
  profileId: ID!
  pageInput: PageInput
  includeHidden: Boolean!
}

extend type Query {
  gkNFTs(tokenId: String!): GetGkNFTSOutput!
  nft(contract: Address!, id: String!): NFT!
  nftById(id: ID!): NFT!
  nfts(input: NFTsInput!): CurationNFTsOutput!
  myNFTs(input: NFTsInput): NFTsOutput!
  curationNFTs(input: CurationInput!): CurationNFTsOutput!
  collectionNFTs(input: CollectionNFTsInput!): NFTsOutput!
}

extend type Mutation {
  refreshMyNFTs: RefreshMyNFTsOutput!
  updateNFTsForProfile(input: UpdateNFTsForProfileInput): NFTsOutput!
}
